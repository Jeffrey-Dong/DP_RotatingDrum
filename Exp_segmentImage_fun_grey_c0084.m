function [BW,maskedImage] = segmentImage(X)
%segmentImage Segment image using auto-generated code from imageSegmenter app
%  [BW,MASKEDIMAGE] = segmentImage(X) segments image X using auto-generated
%  code from the imageSegmenter app. The final segmentation is returned in
%  BW, and a masked image is returned in MASKEDIMAGE.

% Auto-generated by imageSegmenter app on 22-May-2022
%----------------------------------------------------


% Graph cut
foregroundInd = [605659 605660 606733 606739 606740 612133 612140 617533 617546 619689 624009 624026 636991 636996 638079 640202 643479 643483 644522 648888 648891 652134 653157 656397 656457 659637 659702 665037 665109 668277 668353 671598 682317 682400 683480 684475 688795 688885 695370 696450 696452 702835 703915 704017 709418 714715 715795 718069 722270 722392 726712 729957 734277 736310 741710 741842 742790 742922 748324 750489 754670 755894 760070 761294 762230 763454 767626 768856 773026 773176 775341 779506 780743 781662 783983 791382 792623 793542 795868 798939 799108 804508 805415 807753 810815 817473 820714 823954 825931 827194 827199 832599 833485 840164 841045 845567 851844 853998 857447 859398 865012 868033 869332 871273 871492 874511 876892 876894 881214 883374 885311 887466 888779 892866 894184 897182 897424 899342 901746 903906 905818 911218 913631 916871 918772 918775 922277 924167 925517 928757 939557 940637 942521 945760 946037 948198 951156 957636 957918 960078 963030 963036 964398 970590 971958 977069 978438 982469 983549 989245 994343 1002205 1007302 1009456 1009765 1014856 1015165 1017325 1021645 1023491 1026728 1026731 1029205 1033525 1035368 1041085 1041840 1041845 1045405 1052637 1054045 1060193 1060525 1065593 1065925 1072066 1072405 1074225 1079625 1081045 1086100 1091500 1092925 1095085 1096898 1099058 1099405 1102645 1104453 1106613 1106965 1111285 1113088 1114525 1116326 1118845 1119566 1124961 1125318 1126398 1130361 1131797 1132516 1137914 1139351 1143314 1144751 1145469 1151946 1152303 1157703 1160938 1162741 1163816 1164173 1170296 1170650 1172810 1175694 1178929 1179285 1184683 1186484 1192238 1196202 1198362 1198713 1208077 1211673 1215991 1217791 1220311 1223546 1226428 1231825 1238301 1238661 1239741 1245856 1251619 1254492 1258094 1263494 1265654 1269609 1269971 1270684 1275004 1278239 1278611 1282559 1287246 1289038 1290113 1290486 1294433 1294806 1299126 1300913 1301993 1302363 1306308 1306683 1310628 1311003 1313868 1314239 1322506 1322874 1325741 1336907 1341932 1342302 1346252 1349487 1349857 1353095 1353805 1353807 1358125 1358490 1361730 1364969 1367835 1370364 1373233 1377916 1379713 1381868 1382231 1382236 1385467 1388345 1389784 1394096 1394101 1396976 1397328 1401293 1401642 1401648 1405957 1408842 1409196 1415321 1417476 1417481 1419986 1420716 1421059 1427191 1427537 1429692 1435829 1436168 1436903 1441223 1441561 1448033 1448037 1448770 1448773 1448778 1455247 1455250 1455584 1460976 1460982 1462801 1467455 1468198 1468529 1472518 1472844 1474678 1476078 1480075 1480393 1491180 1495195 1495500 1504131 1504132 1508447 1510594 1510600 1515972 1515976 1515982 1515987 1515989 1522445 1523517 1531068 1535379 1538609 1538614 1543781 1543995 1544002 1547187 1547193 1547196 1547204 1547216 1547229 1550259 1550406 1550416 1550422 1555658 1555659 1555799 1557948 1557953 1558898 1558902 1563222 1563329 1563333 1563335 1569705 1569710 1569713 1569779 1569783 1569790 1569796 1569801 1570796 1570806 1570807 1570812 1570814 1570819 1570823 1570825 1570834 1570841 1570852 ];
backgroundInd = [267355 270671 290142 299688 306163 307239 313716 313719 314796 321266 321271 325586 326666 333144 335538 338544 345267 347184 353659 359316 362297 374170 384964 392524 397922 401463 409798 425233 430637 432802 438205 440025 449742 452255 477104 481426 490763 492923 497637 498318 511276 511686 520326 523572 526386 526791 526798 526802 526804 526809 526815 528543 532220 536506 536548 538666 539794 542980 545194 546220 546274 554447 558093 558165 563493 564651 568893 572218 580764 581434 586270 593838 604647 605600 606810 617620 618128 622877 625186 625188 627844 628438 631513 632760 640796 646814 653107 654383 654829 658502 661946 667142 667351 672753 677494 680098 687883 694135 700847 701241 703012 708412 714647 715976 724365 724619 730019 733259 738400 741904 745505 745954 746224 754869 755949 756754 757833 766473 766751 767099 773231 776187 778637 780797 784375 786197 787277 790226 792682 799939 805648 811048 812129 813530 813975 817529 822935 831575 833739 834492 839139 845623 847447 851023 855643 856423 862561 862903 864283 865066 875866 876946 879840 885234 887746 891711 894226 899626 901786 905751 906106 909346 909350 913670 916113 917990 921230 925180 925554 930954 934194 936633 942453 946079 951479 952167 952559 954715 960115 965515 971995 977395 979555 980905 983875 986714 987794 991435 998995 1003315 1008715 1009795 1014786 1015195 1020595 1021675 1023021 1027075 1028421 1030315 1032058 1035715 1038955 1041381 1042195 1045013 1047595 1050410 1050835 1054075 1059045 1059475 1060555 1064445 1065955 1066605 1070921 1071355 1073081 1073515 1075937 1078910 1083230 1083873 1085390 1090790 1096190 1096457 1097270 1097911 1102670 1104830 1106545 1110228 1114548 1116708 1120577 1122108 1127508 1128588 1133988 1134612 1139383 1139388 1142623 1144326 1145863 1149103 1149377 1154503 1157743 1158359 1160983 1164223 1170703 1172391 1176103 1180423 1182106 1184735 1187503 1191215 1191490 1192295 1196615 1203095 1204172 1210652 1211244 1214972 1216052 1222532 1223116 1223608 1227427 1227429 1227434 1227928 1234408 1235485 1241454 1241965 1246285 1247361 1247365 1250890 1253841 1254921 1259241 1265717 1266797 1274354 1277076 1277594 1278156 1278674 1285714 1286230 1288954 1290550 1293790 1299184 1300829 1301339 1305963 1306223 1306739 1310543 1311056 1311059 1313216 1313783 1318613 1318616 1322420 1322933 1325093 1325660 1329977 1330487 1334807 1336457 1337534 1338045 1342361 1343763 1344521 1346174 1349409 1349916 1349921 1354236 1355643 1358043 1358553 1364522 1366108 1369922 1370427 1373662 1373667 1377471 1377982 1383723 1388775 1389123 1389348 1389855 1393664 1396329 1396899 1401729 1403376 1403884 1405536 1409282 1412011 1413602 1417410 1417411 1417917 1421152 1423885 1424391 1424965 1429791 1431440 1433026 1435560 1437343 1441658 1444398 1448712 1449213 1453533 1459507 1461086 1467561 1468145 1468639 1468641 1472465 1475115 1475119 1475700 1479433 1479435 1480020 1480503 1480508 1486497 1486981 1486983 1487577 1491892 1492376 1492381 1495611 1498372 1499452 1499928 1503159 1503163 1507007 1508087 1508557 1508559 1511327 1511794 1511797 1515026 1515030 1518885 1520423 1520426 1523205 1523655 1523659 1527969 1527975 1532288 1538757 1538762 1539400 1539835 1539837 1543720 1546311 1546315 1546954 1547390 1551274 1553434 1553864 1558834 1559251 1559256 1559259 1563154 1565152 1565313 1565728 1567312 1570713 1571125 1574360 1575033 1579353 1579753 1579757 1581909 1581913 1582593 1585827 1591227 1591616 1591622 1594306 1594467 1594856 1598787 1599169 1599175 1603107 1605644 1606189 1606347 1606718 1606724 1610509 1613196 1614829 1614832 1614837 1614839 1614848 1614987 1618227 1618589 1621476 1621823 1622437 1622444 1622461 1622524 1627215 1629367 1629371 1630114 1634440 1634444 1638764 1638767 1638776 1641233 1642017 1642025 1642028 1642033 1642036 1642045 1642300 1646138 1646368 1646380 1646392 1648772 1650458 1652618 1652877 1652886 1652890 1652892 1652897 1652899 1652903 1654161 1654164 1654167 1657230 1657235 1657240 1657241 1657246 1657253 1657258 1657267 1657386 1657394 1657398 1658018 1662679 1662686 1662698 1662703 1662711 1662718 1662728 1662730 1662734 1662736 1662741 1662746 1662747 1662752 1662757 1662758 1662765 1662769 1662774 1662776 1672412 1672424 1672427 1677795 1677800 1677804 1677837 1681033 1684317 1686428 1689656 1692890 1692894 1698282 1698285 1704752 1709159 1713372 1717799 1719849 1736042 1737129 1743602 1748039 1749002 1760992 1765208 1765312 1779257 1780341 1780418 1783650 1795510 1796559 1796563 1796576 1796580 ];
L = superpixels(X,10468);
BW = lazysnapping(X,L,foregroundInd,backgroundInd);

% Create masked image.
maskedImage = X;
maskedImage(~BW) = 0;
end

